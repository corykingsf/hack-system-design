### 三篇文章了解 TiDB 技术内幕 - 说调度

### PD- 中心节点的作用:
- 掌握全局信息,对全局进行把控和调整

- 分布式高可用存储系统必须满足的需求:
  - 1.副本数量不能多也不能少
  - 2.股本需要分布式在不同机器上
  - 3.新加节点 后，可以将其他节点上的副本迁移过来
  - 4.节点下线后，需要将该节点的数据迁移走
- 多副本容错,动态扩容/缩容, fault tolerance(容忍节点掉线), 自动错误恢复(英文？)

- 良好的分布式系统需要：
  - 维持整个cluster的leader分布均匀
  - 维持每个节点的储存容量均匀
  - 维持访问热点分布均匀
  - 控制balance的速度，避免影响在线服务
  - 管理节点状态，包括手动上线/下线节点，以及自动下线节点
- 负载更加均匀，管理方便

### 调度的基本操作
- 怎么选择协议？  从use case开始，需要
  - 1.增加一个replica
  - 2.删除一个replica
  - 3.将Leader角色在一个raft group的不同replica之间transfer
- Raft协议可以满足这三个需求



### 信息收集





ref: https://pingcap.com/zh/blog/tidb-internal-3